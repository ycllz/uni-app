(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/hot/hot"],{"05ae":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},s=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s})},5136:function(e,t,i){"use strict";i.r(t);var n=i("b0ce"),s=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);t["default"]=s.a},"86f8":function(e,t,i){"use strict";i.r(t);var n=i("05ae"),s=i("5136");for(var o in s)"default"!==o&&function(e){i.d(t,e,function(){return s[e]})}(o);var a=i("2877"),r=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=r.exports},b0ce:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=0,n={data:function(){return{refreshing:!1,lists:[],fetchPageNum:1}},onLoad:function(){var t=this;this.getData(),e.getProvider({service:"share",success:function(e){for(var i=[],n=0;n<e.provider.length;n++)switch(e.provider[n]){case"weixin":i.push({name:"分享到微信好友",id:"weixin"}),i.push({name:"分享到微信朋友圈",id:"weixin",type:"WXSenceTimeline"});break;case"qq":i.push({name:"分享到QQ",id:"qq"});break;default:break}t.providerList=i},fail:function(e){console.log("获取登录通道失败",e," at pages\\hot\\hot.vue:63")}})},onPullDownRefresh:function(){console.log("下拉刷新"," at pages\\hot\\hot.vue:68"),this.refreshing=!0,this.getData()},onReachBottom:function(){this.getData()},methods:{getData:function(){var t=this;e.request({url:this.$serverUrl+"/api/picture/posts.php?page="+(this.refreshing?1:this.fetchPageNum)+"&per_page=10",success:function(n){if(200!==n.statusCode)console.log("请求失败:",n," at pages\\hot\\hot.vue:82");else{if(t.refreshing&&n.data[0].id===t.lists[0].data[0].id)return e.showToast({title:"已经最新",icon:"none"}),t.refreshing=!1,void e.stopPullDownRefresh();for(var s={id:"",data:[]},o=[],a=n.data,r=0,u=a.length;r<u;r++){Math.floor(r/2);s.id="list"+i,a[r].keys=i++,s.data.push(a[r]),r%2==1&&(o.push(s),s={id:"",data:[]})}console.log("得到lists",o," at pages\\hot\\hot.vue:113"),t.refreshing?(t.refreshing=!1,e.stopPullDownRefresh(),t.lists=o,t.fetchPageNum=2):(t.lists=t.lists.concat(o),t.fetchPageNum+=1)}}})},goDetail:function(t){e.navigateTo({url:"../detail/detail?data="+encodeURIComponent(JSON.stringify(t))})},share:function(t){var i=this;if(0!==this.providerList.length){var n=this.providerList.map(function(e){return e.name});e.showActionSheet({itemList:n,success:function(n){e.share({provider:i.providerList[n.tapIndex].id,scene:i.providerList[n.tapIndex].type&&"WXSenceTimeline"===i.providerList[n.tapIndex].type?"WXSenceTimeline":"WXSceneSession",type:0,title:"uni-app模版",summary:t.title,imageUrl:t.img_src,href:"https://uniapp.dcloud.io",success:function(e){console.log("success:"+JSON.stringify(e)," at pages\\hot\\hot.vue:156")},fail:function(t){e.showModal({content:t.errMsg,showCancel:!1})}})}})}else e.showModal({title:"当前环境无分享渠道!",showCancel:!1})}}};t.default=n}).call(this,i("6e42")["default"])}},[["834b","common/runtime","common/vendor"]]]);